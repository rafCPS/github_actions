name: Pytest & flake8 control Push
on: push
jobs:
  qa:
    name: Check tests
    runs-on: ubuntu-20.04
steps:
  - name: Checkout on master
    uses: actions/checkout@v3

  - name: Set up Python
    uses: actions/setup-python@master
    with:
      python-version: "3.x"

- name: Install pytest and flake8
  run: |
    pip install pytest
    pip install flake8

- name: Run tests
  run: |
    pytest

- name: Run flake8
  uses: py-actions/flake8@v2
name: salutation sur un jour quelconque

on: workflow_dispatch

env:
  DAY_OF_WEEK: Lundi ## Variable d'environnement pour l'ensemble du flux de travail

jobs:
  greeting_job:
    runs-on: ubuntu-latest
    env:
      Greeting: Salut ## Variable d'environnement pour la tâche
    steps:
      - name: "Dites Salut Mona nous sommes lundi"
        run: echo "$Greeting $First_Name. Nous sommes $DAY_OF_WEEK!"
        env:
          First_Name: Mona ## Variable d'environnement uniquement pour l'étape "Dites Salut Mona nous sommes lundi" de la tâche "greeting_job"
